<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Manman Liang-Project 2</title>

       <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom Styles -->
    <link href="css/style.css" rel="stylesheet">

    <!--  Google Fonts: Roboto Slab -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,400,700" rel="stylesheet">

    <!-- JQuery -->
    <script src="js/jquery-3.1.1.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="js/bootstrap.js"></script>


    <link rel="stylesheet" href="css/default.css">
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>

<body>

<div id="Contact"  class="page-header" style="margin-top: 10px">
<p>
This is a invisible place for better viewing, please ignore
</p>
</div>

 <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Manman Liang</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">

                    <li class="page-scroll"v>
                        <a href="index.html#Contact">Contact</a>
                    </li>
                    <li>
                    <div class="dropdown">
                      <button class="dropbtn">Projects<b class="caret"></b></button>
                      <div class="dropdown-content">
                      <a href="index.html#Project 1">Project 1</a>
                      <a href="index.html#Project 2">Project 2</a>
                      <a href="index.html#Project 3">Project 3</a>
                      <!--
                      <a href="index.html#Project 4">Project 4</a>
                      <a href="index.html#Project 5">Project 5</a>
                      -->
                      </div>
                    </div>
                    </li>
                    <li class="page-scroll">
                        <a href="index.html#About">About</a>
                    </li>
                    <li>
                    <div class="dropdown">
                      <button class="dropbtn">Other Pages<b class="caret"></b></button>
                      <div class="dropdown-content">
                        <a href="...">Keep Editing</a>
                      </div>
                    </div>
                    </li>
      </ul>
    </div>
  </div>
</nav>

  <div class="container">
        <!-- Portfolio Item Heading -->
                <h3 class="page-header">Music Editor
                    <small>Written in Java</small>
                </h3>
    </div>



<div id='carousel-custom' class='carousel slide' data-ride='carousel'>
    <div class='carousel-outer'>
        <!-- Wrapper for slides -->
        <div class='carousel-inner'>
            <div class='item active'>
                <img src='resources/Project2/Project2-1.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-2.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-3.png' alt='' />
            </div>
                
            <div class='item'>
                <img src='resources/Project2/Project2-4.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-5.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-6.png' alt='' />
            </div>
            
            <div class='item'>
                <img src='resources/Project2/Project2-7.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-8.png' alt='' />
            </div>
            <div class='item'>
                <img src='resources/Project2/Project2-9.png' alt='' />
            </div>
        </div>
            
        <!-- Controls -->
        <a class='left carousel-control' href='#carousel-custom' data-slide='prev'>
            <span class='glyphicon glyphicon-chevron-left'></span>
        </a>
        <a class='right carousel-control' href='#carousel-custom' data-slide='next'>
            <span class='glyphicon glyphicon-chevron-right'></span>
        </a>
    </div>
    
    <!-- Indicators -->
    <ol class='carousel-indicators mCustomScrollbar'>
        <li data-target='#carousel-custom' data-slide-to='0' class='active'>
        <img src='resources/Project2/Project2-1.png' alt=''/>
        </li>
        <li data-target='#carousel-custom' data-slide-to='1'>
        <img src='resources/Project2/Project2-2.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='2'>
        <img src='resources/Project2/Project2-3.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='3'>
        <img src='resources/Project2/Project2-4.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='4'>
        <img src='resources/Project2/Project2-5.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='5'>
        <img src='resources/Project2/Project2-6.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='6'>
        <img src='resources/Project2/Project2-7.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='7'>
        <img src='resources/Project2/Project2-8.png' alt=''/></li>
        <li data-target='#carousel-custom' data-slide-to='8'>
        <img src='resources/Project2/Project2-9.png' alt=''/></li>
    </ol>
</div>


  
    <!-- How much would could a woodchuck chuck if a woodchuck could chuck wood? -->
    <!-- Page Content -->

    <div class="container">

        <!-- Portfolio Item Row -->

        <div class="row">
            <div class="col-xs-6">
                <h3>Project Description</h3>
                <p>
                    This project is written in Java with a partner, using Model-View-Controller Model. Music Editor is a program that can read music file then show view panel for users to play the music or revise the music. Users can see music playing synchronizes with the visual views.
                </p>
                <h3>Covered Knowledge</h3>
                <ul>
                    <li>Java</li>
                    <li>Swing</li>
                    <li>MVC Model</li>
                </ul>
                <video controls="controls"  width="100%" height="100%" style="text-align: center;" name="musicEditor" src="resources/musicEditor.mov"></video>
            </div>

            <div class="col-xs-6">
                <div class="row" style="margin-bottom: 0px">
                  <div class="col-xs-6">
                    <h3>Example of Code</h3>
                  </div>
                  <div class="col-xs-3" style="float: right;">
                    <h3>
                      <a href="https://github.com/liangmanman/musicEditor" type="button" class="btn btn-primary" target="_blank" >
                      Source Code
                      </a>
                    </h3>
                  </div>
                </div>
                <div class="scroll">
                <pre>
                <code class="Java">/**
 * Represent an implementation of the controller
 */
public class Controller2Impl implements Controller {
  private Model model;
  private GuiView view;
  private KeyListener kbd;
  private MouseListener mouse;

  /**
   * Default Constructor
   *
   * @param model the model of the music editor
   * @param view  the view of the music editor
   */
  public Controller2Impl(Model model, GuiView view) {
    this.model = model;
    this.view = view;
    this.view.display(this.model);
    configure();
    this.view.resetFocus();
  }

  /**
   * Creates and sets a keyboard listener for the view. In effect it creates snippets of code as
   * Runnable object, one for each time a key is typed, pressed and released, only for those that
   * the program needs
   */
  private void configure() {
    Map<Integer, Runnable> keysTyped = new HashMap<>();
    Map<Integer, Runnable> keysPressed = new HashMap<>();
    Map<Integer, Runnable> keysReleased = new HashMap<>();
    MouseHandler mouse = new MouseHandler();

    // Add a note with default instrument(1) and volume(0)
    keysPressed.put(KeyEvent.VK_A, () -> {
      String input = "";
      int i;
      Note n;
      while (true) {
        try {
          int beat = mouse.getP().x;
          int pitch = model.getHighestPitch() - mouse.getP().y;
          n = Note.convertToNote(pitch);
          input =
            JOptionPane.showInputDialog(null, "Lengthï¼š\n", "Select a positive integer").trim();
          i = Integer.parseInt(input) - 1;
          n.edit(0, i, beat);
          model.add(n);
          view.repaint();
          break;
        } catch (Exception e) {
          if (e.getMessage() == null) {
            break;
          }
        }
      }
    });

    // Remove an existing note
    keysPressed.put(KeyEvent.VK_R, () -> {
      Note n = view.getNote(mouse.getP());
      if (n != null) {
        model.remove(n);
        view.repaint();
      }
    });

    // Move an existing note
    keysReleased.put(KeyEvent.VK_M, () -> {
      Note n = view.getDisplayPanel().getNote(mouse.getP());
      if (n != null) {
        int x = mouse.getEndP().x - mouse.getStartP().x;
        int y = mouse.getStartP().y - mouse.getEndP().y;
        model.edit(n, y, 0, x);
        view.repaint();
      }
    });

    // Edit the duration of the note
    keysReleased.put(KeyEvent.VK_D, () -> {
      Note n = view.getDisplayPanel().getNote(mouse.getP());
      if (n != null) {
        int x = mouse.getEndP().x - mouse.getStartP().x - n.getDuration() + 1;
        try {
          model.edit(n, 0, x, 0);
          view.repaint();
        } catch (Exception ignored) {
        }
      }
    });

    // Edit the instrument of the note
    keysPressed.put(KeyEvent.VK_I, () -> {
      Note n = view.getDisplayPanel().getNote(mouse.getP());
      if (n != null) {
        String s = "";
        int i;
        while (true) {
          try {
            s = JOptionPane.showInputDialog(view.getDisplayPanel(), "Instrument: \n",
              "Select a number from 1 to 128").trim();
            i = Integer.parseInt(s);
            n.editVolInst(i, n.getVolume());
            view.repaint();
            break;
          } catch (Exception e) {
            if (e.getMessage() == null) {
              break;
            }
          }
        }
      }
    });

    // Edit the volume of the note
    keysPressed.put(KeyEvent.VK_V, () -> {
      Note n = view.getDisplayPanel().getNote(mouse.getP());
      if (n != null) {
        String s = "";
        int i;
        while (true) {
          try {
            s = JOptionPane.showInputDialog(view.getDisplayPanel(), "Volume: \n",
              "Select a number from 0 to 100").trim();
            i = Integer.parseInt(s);
            n.editVolInst(n.getInstrument(), i);
            view.repaint();
            break;
          } catch (Exception e) {
            if (e.getMessage() == null) {
              break;
            }
          }
        }
      }
    });

    // Scroll through a composition with the arrow keys
    keysPressed.put(KeyEvent.VK_UP, () -> {
      view.controlPanel(model, "U");
    });

    keysPressed.put(KeyEvent.VK_DOWN, () -> {
      view.controlPanel(model, "D");
    });

    keysPressed.put(KeyEvent.VK_LEFT, () -> {
      view.controlPanel(model, "L");
    });

    keysPressed.put(KeyEvent.VK_RIGHT, () -> {
      view.controlPanel(model, "R");
    });

    // Jump to the beginning or end of the composition, via the Home or End keys
    keysPressed.put(KeyEvent.VK_HOME, () -> {
      view.controlPanel(model, "H");
    });

    keysPressed.put(KeyEvent.VK_END, () -> {
      view.controlPanel(model, "E");
    });

    // Pause or Resume
    keysPressed.put(KeyEvent.VK_SPACE, () -> {
      view.pause();
    });

    // Start the music
    keysPressed.put(KeyEvent.VK_P, () -> {
      view.play(this.model);
    });

    KeyboardHandler kbd = new KeyboardHandler();
    kbd.setKeysTyped(keysTyped);
    kbd.setKeysPressed(keysPressed);
    kbd.setKeysReleased(keysReleased);
    this.kbd = kbd;
    this.mouse = mouse;
    view.addKeyListener(kbd);
    view.addMouseListener(mouse);
  }

  public KeyListener getKbd() {
    return kbd;
  }

  public MouseListener getMouse() {
    return mouse;
  }

  @Override
  public void display() {
    if (view instanceof GuiView) {
      GuiView view1 = (GuiView) view;
      view1.display(model);
    }
    else {
      view.display(model);
    }
  }
}

                </code>
                </pre>
                </div>
            </div>

        </div>
        <!-- /.row -->

        <!-- Related Projects Row -->
        <div class="row">

            <div class="col-lg-12">
                <h3 class="page-header">Related Projects</h3>
            </div>
            <div class="col-xs-6 col-sm-4">
                <a href="resources/solarSystem.gif" target="_blank">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>
            <div class="col-xs-6 col-sm-4">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>
        
            <div class="col-xs-6 col-sm-4">
                <a href="#">
                    <img class="img-responsive portfolio-item" src="http://placehold.it/500x300" alt="">
                </a>
            </div>

        </div>

        <br>

    </div>


</body>